{% extends "layout.html" %}

{%block title%}adicionar denuncia{%endblock%}

{%block head_extra%}<script src="{{url_for('static', filename='js/form.js')}}" defer></script>{%endblock%}


{%block content%}
<div class="report-page">
 <h1>Relate um problema</h1>
<form id="report-form" action="{{url_for('send_report')}}" method="POST" enctype="multipart/form-data">
    <div class="form-module">
        <label for="foto">Foto/Vídeo</label>
        <input type="file" id="foto" name="foto" accept="image/*,video/*" required>
    </div>
    <div class="location-block">
        <div class="location-module">
            <label for="address">Localização do problema</label>
            <input type="text" id="address" name="address" placeholder="Digite o endereço completo">
        </div>
        <div class="location-module">
            <button type="button" id="actual-location">Usar localização atual</button>
        </div>
        <p id="address-alert" style="display: none;">Endereço inválido! Por favor, insira um endereço válido</p>
    </div>
    <input type="hidden" id="latitude" name="latitude">
    <input type="hidden" name="longitude" id="longitude">

    <h3>Tipo do problema</h3>
     
    <div class="type-module">
        <h4>Problema urbano</h4> 
        <button type="button" class="urban-type-button" data-group="urbano">Lixo/entulho</button>
        <button type="button" class="urban-type-button" data-group="urbano">Iluminação</button>
        <button type="button" class="urban-type-button" data-group="urbano">Água/esgoto</button>
        <button type="button" class="urban-type-button" data-group="urbano">Estradas/buracos</button>
        <button type="button" class="urban-type-button" data-group="urbano">Terra</button>
        <button type="button" class="urban-type-button" data-group="urbano">Outros</button>
        <input type="text" id="urban-specify" name="urban-specify" placeholder="Especifique o tipo do seu problema" style="display: none;">
    </div>
    <div class="type-module">
        <h4>Problema escolar</h4> 
        <button type="button" class="school-type-button" data-group="escolar">Iluminação</button>
        <button type="button" class="school-type-button" data-group="escolar">Água/esgoto</button>
        <button type="button" class="school-type-button" data-group="escolar">Infraestrutura</button>
        <button type="button" class="school-type-button" data-group="escolar">Área externa</button>
        <button type="button" class="school-type-button" data-group="escolar">Segurança</button>
        <button type="button" class="school-type-button" data-group="escolar">Outros</button>
        <input type="text" id="school-specify" name="school-specify" placeholder="Especifique o tipo do seu problema" style="display: none;">
    </div>

    <input type="hidden" id="report-type" name="report-type" required>
    <input type="hidden" id="type" name="type" required>
    <div class="form-module">
       <textarea id="problem" name="problem" rows="5" required placeholder="Descreva seu problema aqui (seja específico)"></textarea>
    </div>
    <div class="form-module">
        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" name="cpf" placeholder="Insira seu cpf">
        <p id="cpf-alert" style="display: none; color:red;">CPF inválido. Por favor, verifique os números digitados</p>

        <div class="cpf-button-container">
<button type="button" class="cpf-button"></button>
<p>Denúncia anônima</p>
        </div>
    </div>
     <button type="submit" class="submit-button">ENVIAR DENÚNCIA</button>
</div>
</form>
{%endblock%}
